<!DOCTYPE html>
<HTML>
<HEAD>
  <meta http-equiv="CONTENT-TYPE" content="text/html; charset=UTF-8" />
  <!-- <link href="/web/css/bootstrap3.min.css" type="text/css" rel="stylesheet" />  
  <script src="/web/js/vue.min.js"></script> -->
  <script>
  </script>
  <TITLE></TITLE>
</HEAD>

<style>
  div#el_loading {
    z-index: 2; 
    position: fixed;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    background: linear-gradient(20deg, cyan, navy);
    color: white;
    text-align: center;
    padding-top: 40vh;
    font-size: xx-large;
  }

  table {
    border-collapse: collapse;
  }

  td {
    border: 1px solid grey;
    padding-right: 3px;
    padding-left:  3px;
  }

  .modal {
    position: fixed;
    width: 70%; 
    padding: 4px;
    background: white;
    border: 1px solid grey;
    height: 80%;
  }

  .modal .header {
    background-color: lightgray; 
    text-align: center;
    cursor: move;
  }

  .modal .body {
    height: 90%;
    overflow-y: scroll;
  }
</style>

<body>
  <div id="el_loading" hidden>
    Грузимся...
  </div>
  <include hidden>
    <!-- <iframe class="stardata" src="../map/stars.json"></iframe> -->

    <iframe class=tech src2="tech/Biology.graphml"></iframe>
    <iframe class=tech src2="tech/Industry.graphml"></iframe>
    <iframe class=tech src2="tech/Military.graphml"></iframe>
    <iframe class=tech src2="tech/Science.graphml"></iframe>
    <iframe class=tech src2="tech/Sociology.graphml"></iframe>
  </include>
  <style id="highlight_css"></style>

  <!-- <div style="position: absolute; left: 50px; top: 50px; width: 50%; height: 50%;" hidden>
    <svg viewBox="0 0 500 100" id="svg_graph" class="chart">
      <polyline
         fill="none"
         stroke="#0074d9"
         stroke-width="2"
         points="
           0,120
           20,60
           40,80
           60,20"/>
    </svg>
  </div> -->
  <!-- <canvas id=canvas style="position: absolute; left: 5; top: 5;"></canvas> -->

  <div id="el_selected_tech_wrapper" hidden class="modal"
    style="left: 260px; top: 50px; width: 50%;">
    <div id="el_selected_tech_header" class="header">
      <strong>Парсер</strong>
      <button onclick="getEl('el_selected_tech_wrapper').hidden = true" style="float: right;" accesskey="й">Close</button>
    </div>

    <div class="body">
      <div id="el_selected_tech_list" contenteditable="true"></div>
      <br>

      <strong>Результат</strong>
      <button onclick="playerPost.countTechStudyResult()"->Parse</button>
      <div id="el_tech_result_list" contenteditable="true"></div>
      
      <strong>Раскладка по типам</strong>
      <div id="el_tech_by_type_list"></div>
    </div>
  </div>
  
  <div id="el_reports_wrapper" hidden class="modal"
    style="right: 50px; top: 50px;">
    <div id="el_reports_header" class="header">
      <strong>Отчеты</strong>
      <button onclick="getEl('el_reports_wrapper').hidden = true" style="float: right;" accesskey="й">Close</button>
    </div>
    <button id="el_reports_home" onclick="Analysis.drawReportsList()">Full list</button>
    <div id="el_reports_list" class="body"></div>
  </div>
  
  <!-- https://codepen.io/edmundojr/pen/xOYJGw -->
  <svg viewbox="-300 -100 2200 1450" id=svg style="background-color: white;"
  xmlns:svg="http://www.w3.org/2000/svg" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
  </svg>

  <div id=el_GUI>
    <div id="" style="position: fixed; left: 8px; bottom: 8px;">
      <button onclick="Analysis.drawReportsList()" title="">Reports</button>
      <br>
      <button onclick="savingOps.saveAllTechAsPng()" title="Save all tech trees as png" accesskey="в">Dump</button>
      <button onclick="playerPost.parse(prompt('player post here'))" title="" accesskey="г">Userpost</button>
      <!-- <br>
      <button onclick="parseDoc.GDocToJS()" title="">GDoc to JS(ON)</button> -->
      <!-- <button onclick="savingOps.openAsPng()" title="Open current tree as png in new tab">Png</button> -->
      <section id=players_selection style="background-color: white;">
        <label>
          <input type="checkbox" id="Беглецы"> Беглецы
        </label><br>
        <label>
          <input type="checkbox" id="Кошкодевочки Карины"> Кошкодевочки Карины
        </label><br>
        <label>
          <input type="checkbox" id="Юнитологическая федерация"> Юнитологическая федерация
        </label><br>
        <label>
          <input type="checkbox" id="Инженеры"> Инженеры
        </label><br>
        <label>
          <input type="checkbox" id="ЭНГЕЛЬС-1"> ЭНГЕЛЬС-1
        </label><br>
      </section>
      <section id=doc_section>
        <button onclick="parseDoc.file(event)" style="padding: 12px;" accesskey="з">Parse clipboard</button>
        <button onclick="parseDoc.redoLast()" style="padding: 12px;">Redo last parse</button>
      </section>
    </div>
    <section id="tech_tree_buttons" style="position: fixed; right: 8px; bottom: 8px;">
      <button onclick='drawTree("Biology")'  style="background-color: rgb(204, 255, 204);">Biology</button>
      <button onclick='drawTree("Industry")' style="background-color: rgb(255, 204,   0);">Industry</button>
      <button onclick='drawTree("Military")' style="background-color: rgb(255, 153, 102);">Military</button>
      <button onclick='drawTree("Science")'  style="background-color: rgb(153, 204, 255);">Science</button>
      <button onclick='drawTree("Sociology")'style="background-color: rgb(204, 153, 255);">Sociology</button>
    </section>
  </div>
  <input type=button  style="position: fixed; left: 8px; top: 50%;" value="&ofcir;" onclick="el_GUI.hidden=!el_GUI.hidden" accesskey="е" title="Toggle GUI">
  <div style="text-align: center;">
    <a href="https://github.com/RollingHog/wr-stardust">Github</a>
  </div>
</body>

<script id="el_data_players" src2="data/playersData.js"></script>
<script src="src/common.js"></script>
<script src="src/draw.js"></script>

<script src="src/test.js"></script>
<script src="Visualiser.js"></script>
</HTML>
